webpackJsonp([31],{"0Hr7":function(e,t,o){"use strict";function a(e){o("ecyW")}Object.defineProperty(t,"__esModule",{value:!0});var n=o("y12b"),i=o.n(n),l=o("FHL/"),r=o("VU/8"),d=a,s=r(i.a,l.a,!1,d,"data-v-46fff0be",null);t.default=s.exports},"FHL/":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container calendar-list-container"},[o("div",{staticClass:"handle-box"},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择渠道"},model:{value:e.searchForm.channel_id,callback:function(t){e.$set(e.searchForm,"channel_id",t)},expression:"searchForm.channel_id"}},e._l(e.channel_options,function(e){return o("el-option",{key:e.id,attrs:{label:e.channel_name,value:e.id}})})),e._v(" "),o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择活动"},model:{value:e.searchForm.promotion_id,callback:function(t){e.$set(e.searchForm,"promotion_id",t)},expression:"searchForm.promotion_id"}},e._l(e.promotion_options,function(e){return o("el-option",{key:e.promotion_id,attrs:{label:e.promotion_name,value:e.promotion_id}})})),e._v(" "),o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleReset}},[e._v("重置")])],1)],1),e._v(" "),o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.data,border:""},on:{"sort-change":e.handleSort}},[o("el-table-column",{attrs:{prop:"channel_name",label:"渠道","min-width":"120",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"promotion_name",label:"活动名称","min-width":"120",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"promotion_begintime",label:"活动开始时间",width:"180",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"promotion_endtime",label:"活动结束时间",width:"180",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"register_num_string",label:"注册人数","min-width":"100",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"custom_num_string",label:"参加人数","min-width":"100",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"volume_string",label:"成交量","min-width":"100",align:"center"}})],1),e._v(" "),o("el-dialog",{attrs:{title:"编辑客户来源表",visible:e.dialogFormVisible,size:"tiny"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editForm.id,expression:"editForm.id"}],attrs:{type:"hidden"},domProps:{value:e.editForm.id},on:{input:function(t){t.target.composing||e.$set(e.editForm,"id",t.target.value)}}}),e._v(" "),o("el-form-item",{attrs:{label:"渠道id （自己表中的大姨妈的id）  (如 大姨妈id )"}},[o("el-input",{attrs:{disabled:!e.editForm.abled.channel_id},model:{value:e.editForm.channel_id,callback:function(t){e.$set(e.editForm,"channel_id",t)},expression:"editForm.channel_id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"渠道编号(如 大姨妈代号 )"}},[o("el-input",{attrs:{disabled:!e.editForm.abled.channel_no},model:{value:e.editForm.channel_no,callback:function(t){e.$set(e.editForm,"channel_no",t)},expression:"editForm.channel_no"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"渠道对应的uid"}},[o("el-input",{attrs:{disabled:!e.editForm.abled.channel_uid},model:{value:e.editForm.channel_uid,callback:function(t){e.$set(e.editForm,"channel_uid",t)},expression:"editForm.channel_uid"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户信息id(用于关联)(如果有则表示泛泰有这个用户的信息\r\n\t\t\t\t\t\t\t\t\t\t\t 但是不一定有这个用户要投资产品的二类户 这个二类户要去用户的信息中查询)"}},[o("el-input",{attrs:{disabled:!e.editForm.abled.custom_id},model:{value:e.editForm.custom_id,callback:function(t){e.$set(e.editForm,"custom_id",t)},expression:"editForm.custom_id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户编号(自己生成)"}},[o("el-input",{attrs:{disabled:!e.editForm.abled.custom_no},model:{value:e.editForm.custom_no,callback:function(t){e.$set(e.editForm,"custom_no",t)},expression:"editForm.custom_no"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"活动编号"}},[o("el-input",{attrs:{disabled:!e.editForm.abled.promotion_id},model:{value:e.editForm.promotion_id,callback:function(t){e.$set(e.editForm,"promotion_id",t)},expression:"editForm.promotion_id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"退出登陆的标识（默认静默登陆）1静默登陆 0重新登陆"}},[o("el-input",{attrs:{disabled:!e.editForm.abled.flag},model:{value:e.editForm.flag,callback:function(t){e.$set(e.editForm,"flag",t)},expression:"editForm.flag"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",loading:e.editLoading},on:{click:e.handleSave}},[e._v("保存")]),e._v(" "),o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},n=[],i={render:a,staticRenderFns:n};t.a=i},ecyW:function(e,t,o){var a=o("iI9R");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("6d88a7e1",a,!0)},iI9R:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".handle-box[data-v-46fff0be]{margin-bottom:20px}.handle-select[data-v-46fff0be]{width:120px}.handle-input[data-v-46fff0be]{width:150px;display:inline-block}",""])},woQ9:function(e,t,o){"use strict";function a(e){if(console.log("time=",e),e.length>20){return e.substring(0,10)+" "+e.substring(11,19)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.fdate=a},y12b:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o("woOf"),i=a(n),l=o("3pLw"),r=a(l),d=o("woQ9");t.default={data:function(){return{getdataurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tCustomerFrom/getId.do",dataurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tCustomerFrom/dataList.do",saveurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tCustomerFrom/save.do",deleteurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tCustomerFrom/delete.do",searchurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tCustomerFrom/searchlist.do",dialogFormVisible:!1,editLoading:!1,editForm:{channel_id:"",channel_no:"",channel_uid:"",custom_id:"",custom_no:"",promotion_id:"",flag:"",abled:{channel_id:!0,channel_no:!0,channel_uid:!0,custom_id:!0,custom_no:!0,promotion_id:!0,flag:!0}},editForm_sysMenu_ids:[],searchForm:{channel_id:"",channel_no:"",channel_uid:"",custom_id:"",custom_no:"",promotion_id:"",flag:"",is_search:!1,order:""},tableData:[],promotion_options:"",channel_options:""}},created:function(){this.getSearchData(),this.loadData()},computed:{data:function(){return this.tableData}},methods:{getSearchData:function(){var e=this,t=this;r.default.post(t.searchurl,{},function(e){t.promotion_options=e.data.promotionList,t.channel_options=e.data.channelList,console.log(t.promotion_options),console.log(t.channel_options)}).catch(function(t){e.$eventHub.$emit("error",t)})},loadData:function(){var e=this,t=this;r.default.post(t.dataurl,this.searchForm,function(o){t.tableData=o.data.list;for(var a=0;a<t.tableData.length;a++)null!=t.tableData[a].promotion_begintime&&(t.tableData[a].promotion_begintime=(0,d.fdate)(t.tableData[a].promotion_begintime)),null!=t.tableData[a].promotion_endtime&&(t.tableData[a].promotion_endtime=(0,d.fdate)(t.tableData[a].promotion_endtime));e.searchForm.is_search=!1}).catch(function(t){e.$eventHub.$emit("error",t)})},handleCurrentChange:function(e){this.searchForm.pageNum=e,this.loadData()},handleSearch:function(){this.searchForm.is_search=!0,this.loadData()},handleSort:function(e){return console.log(e),this.searchForm.order=e.prop+" "+e.order.replace("ending",""),this.handleSearch(),!1},handleAdd:function(){this.dialogFormVisible=!0,this.editForm={channel_id:"",channel_no:"",channel_uid:"",custom_id:"",custom_no:"",promotion_id:"",flag:"",abled:{channel_id:!0,channel_no:!0,channel_uid:!0,custom_id:!0,custom_no:!0,promotion_id:!0,flag:!0}}},handleReset:function(){this.searchForm.is_search=!1,this.searchForm={channel_id:"",promotion_id:"",is_search:!1,order:""}},handleEdit:function(e,t){var o=this;o.dialogFormVisible=!0,o.editForm=(0,i.default)({},t),o.editForm.abled||(o.editForm.abled={}),o.editForm.abled.rolecode=!1,r.default.post(o.getdataurl+"?id="+o.editForm.id,{},function(e){o.editForm.channel_id=e.data.channel_id,o.editForm.channel_no=e.data.channel_no,o.editForm.channel_uid=e.data.channel_uid,o.editForm.custom_id=e.data.custom_id,o.editForm.custom_no=e.data.custom_no,o.editForm.promotion_id=e.data.promotion_id,o.editForm.flag=e.data.flag}).catch(function(e){o.$eventHub.$emit("error",e)})},handleDelete:function(e,t){var o=this;console.log(t),r.default.post(o.deleteurl,{id:t.id},function(e){o.loadData()}).catch(function(e){o.$eventHub.$emit("error",e)})},handleSave:function(){var e=this;r.default.post(e.saveurl,{id:e.editForm.id,channel_id:e.editForm.channel_id,channel_no:e.editForm.channel_no,channel_uid:e.editForm.channel_uid,custom_id:e.editForm.custom_id,custom_no:e.editForm.custom_no,promotion_id:e.editForm.promotion_id,flag:e.editForm.flag},function(t){e.loadData(),e.dialogFormVisible=!1}).catch(function(t){e.$eventHub.$emit("error",t)})},handleFalse:function(){return!1}}}}});
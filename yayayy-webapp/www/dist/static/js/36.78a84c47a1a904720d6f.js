webpackJsonp([36],{H2Js:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),l=i(r),o=a("3pLw"),s=i(o),n=a("woQ9");t.default={data:function(){return{getdataurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tApiLog/getId.do",dataurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tApiLog/dataList.do",saveurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tApiLog/save.do",deleteurl:"http://10.0.1.152:9999/sunvue-gateway-webapp/tApiLog/delete.do",dialogFormVisible:!1,editLoading:!1,expandAll:!1,editForm:{user_id:"",api_url:"",api_json:"",call_time:"",ret_json:"",ret_time:"",abled:{user_id:!0,api_url:!0,api_json:!0,call_time:!0,ret_json:!0,ret_time:!0}},editForm_sysMenu_ids:[],searchForm:{user_id:"",api_url:"",api_json:"",call_time:"",ret_json:"",ret_time:"",time_s:"",time_e:"",pageNum:1,totalRow:0,pageSize:10,is_search:!1,order:""},tableData:[]}},created:function(){this.loadData()},computed:{data:function(){return this.tableData}},methods:{loadData:function(){var e=this,t=this;s.default.post(t.dataurl,this.searchForm,function(a){t.tableData=a.data.list,t.searchForm.totalRow=a.data.totalRow;for(var i=0;i<t.tableData.length;i++)null!=t.tableData[i].call_time&&(t.tableData[i].call_time=(0,n.fdate)(t.tableData[i].call_time)),null!=t.tableData[i].ret_time&&(t.tableData[i].ret_time=(0,n.fdate)(t.tableData[i].ret_time));e.searchForm.is_search=!1,console.log("tableData=",t.tableData)}).catch(function(t){e.$eventHub.$emit("error",t)})},handleCurrentChange:function(e){this.searchForm.pageNum=e,this.loadData()},handleSearch:function(){this.searchForm.is_search=!0,this.loadData()},expandSearchForm:function(){this.expandAll=!0},collapseSearchForm:function(){this.expandAll=!1},handleSort:function(e){return console.log(e),this.searchForm.order=e.prop+" "+e.order.replace("ending",""),this.handleSearch(),!1},handleAdd:function(){this.dialogFormVisible=!0,this.editForm={user_id:"",api_url:"",api_json:"",call_time:"",ret_json:"",ret_time:"",abled:{user_id:!0,api_url:!0,api_json:!1,call_time:!0,ret_json:!0,ret_time:!0}}},handleEdit:function(e,t){var a=this;a.dialogFormVisible=!0,a.editForm=(0,l.default)({},t),a.editForm.abled||(a.editForm.abled={}),a.editForm.abled.rolecode=!1,s.default.post(a.getdataurl+"?id="+a.editForm.id,{},function(e){a.editForm.user_id=e.data.user_id,a.editForm.api_url=e.data.api_url,a.editForm.api_json=e.data.api_json,a.editForm.call_time=e.data.call_time,a.editForm.ret_json=e.data.ret_json,a.editForm.ret_time=e.data.ret_time}).catch(function(e){a.$eventHub.$emit("error",e)})},handleDelete:function(e,t){var a=this;console.log(t),s.default.post(a.deleteurl,{id:t.id},function(e){a.loadData()}).catch(function(e){a.$eventHub.$emit("error",e)})},handleReset:function(){this.searchForm.is_search=!1,this.searchForm={user_id:"",api_url:"",api_json:"",call_time:"",ret_json:"",ret_time:"",time_s:"",time_e:"",is_search:!1,order:""}},handleSave:function(){var e=this;s.default.post(e.saveurl,{id:e.editForm.id,user_id:e.editForm.user_id,api_url:e.editForm.api_url,api_json:e.editForm.api_json,call_time:e.editForm.call_time,ret_json:e.editForm.ret_json,ret_time:e.editForm.ret_time},function(t){e.loadData(),e.dialogFormVisible=!1}).catch(function(t){e.$eventHub.$emit("error",t)})},handleFalse:function(){return!1}}}},"X/po":function(e,t,a){"use strict";function i(e){a("kYPO")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("H2Js"),l=a.n(r),o=a("kYJG"),s=a("VU/8"),n=i,d=s(l.a,o.a,!1,n,"data-v-c668e016",null);t.default=d.exports},kYJG:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container"},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"登录用户"},model:{value:e.searchForm.user_id,callback:function(t){e.$set(e.searchForm,"user_id",t)},expression:"searchForm.user_id"}}),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"接口地址"},model:{value:e.searchForm.api_url,callback:function(t){e.$set(e.searchForm,"api_url",t)},expression:"searchForm.api_url"}}),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"接口内容"},model:{value:e.searchForm.api_json,callback:function(t){e.$set(e.searchForm,"api_json",t)},expression:"searchForm.api_json"}}),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.expandAll,expression:"expandAll"}],staticClass:"handle-input mr10",attrs:{placeholder:"接口返回内容"},model:{value:e.searchForm.ret_json,callback:function(t){e.$set(e.searchForm,"ret_json",t)},expression:"searchForm.ret_json"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.expandAll,expression:"expandAll"}],attrs:{editable:!1,type:"datetime",placeholder:"调用时间（起）"},model:{value:e.searchForm.time_s,callback:function(t){e.$set(e.searchForm,"time_s",t)},expression:"searchForm.time_s"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.expandAll,expression:"expandAll"}],attrs:{editable:!1,type:"datetime",placeholder:"调用时间（终）"},model:{value:e.searchForm.time_e,callback:function(t){e.$set(e.searchForm,"time_e",t)},expression:"searchForm.time_e"}}),e._v(" "),a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleReset}},[e._v("重置")])],1),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:!e.expandAll,expression:"!expandAll"}],staticStyle:{"margin-left":"8px","font-size":"10px",color:"#409EFF"},on:{click:e.expandSearchForm}},[e._v("展开"),a("i",{staticClass:"el-icon el-icon-arrow-down",attrs:{"aria-hidden":"true"}})]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:e.expandAll,expression:"expandAll"}],staticStyle:{"margin-left":"8px","font-size":"10px",color:"#409EFF"},on:{click:e.collapseSearchForm}},[e._v("收回"),a("i",{staticClass:"el-icon el-icon-arrow-up",attrs:{"aria-hidden":"true"}})])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.data,border:""},on:{"sort-change":e.handleSort}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"接口内容"}},[a("span",[e._v(e._s(t.row.api_json))])]),e._v(" "),a("el-form-item",{attrs:{label:"接口返回内容"}},[a("span",[e._v(e._s(t.row.ret_json))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"登录用户",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"api_url",label:"接口地址","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ajson_str",label:"接口内容","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"call_time",label:"调用时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rjson_str",label:"接口返回内容","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ret_time",label:"返回时间",width:"180"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.searchForm.totalRow},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑接口日志表",visible:e.dialogFormVisible,size:"tiny"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editForm.id,expression:"editForm.id"}],attrs:{type:"hidden"},domProps:{value:e.editForm.id},on:{input:function(t){t.target.composing||e.$set(e.editForm,"id",t.target.value)}}}),e._v(" "),a("el-form-item",{attrs:{label:"登录用户"}},[a("el-input",{attrs:{disabled:!e.editForm.abled.user_id},model:{value:e.editForm.user_id,callback:function(t){e.$set(e.editForm,"user_id",t)},expression:"editForm.user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口地址"}},[a("el-input",{attrs:{disabled:!e.editForm.abled.api_url},model:{value:e.editForm.api_url,callback:function(t){e.$set(e.editForm,"api_url",t)},expression:"editForm.api_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口内容"}},[a("el-input",{model:{value:e.editForm.api_json,callback:function(t){e.$set(e.editForm,"api_json",t)},expression:"editForm.api_json"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"调用时间"}},[a("el-input",{attrs:{disabled:!e.editForm.abled.call_time},model:{value:e.editForm.call_time,callback:function(t){e.$set(e.editForm,"call_time",t)},expression:"editForm.call_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口返回内容"}},[a("el-input",{attrs:{disabled:!e.editForm.abled.ret_json},model:{value:e.editForm.ret_json,callback:function(t){e.$set(e.editForm,"ret_json",t)},expression:"editForm.ret_json"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"返回时间"}},[a("el-input",{attrs:{disabled:!e.editForm.abled.ret_time},model:{value:e.editForm.ret_time,callback:function(t){e.$set(e.editForm,"ret_time",t)},expression:"editForm.ret_time"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.editLoading},on:{click:e.handleSave}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},r=[],l={render:i,staticRenderFns:r};t.a=l},kYPO:function(e,t,a){var i=a("uP6+");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("1226a589",i,!0)},"uP6+":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".handle-box[data-v-c668e016]{margin-bottom:20px;line-height:40px}.handle-select[data-v-c668e016]{width:120px}.handle-input[data-v-c668e016]{width:150px;display:inline-block}",""])},woQ9:function(e,t,a){"use strict";function i(e){if(console.log("time=",e),e.length>20){return e.substring(0,10)+" "+e.substring(11,19)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.fdate=i}});